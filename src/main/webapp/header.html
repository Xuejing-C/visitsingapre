<script>
    $(function () {
        // acquire login username
        $.get("getUsernameServlet", {}, function (data) {
            var msg = "Welcome, " + data.username;
            $("#span_username").html(msg);
        });

        // acquire category data
        $.get("category/findCategory", {}, function (data) {
            // data: [{cid:1,cname:xxx},{},{}...]
            var lis = '<li><a href="index.html">Homepage</a></li>';

            for (let i = 0; i < data.length; i++) {
                var li = '<li><a href="viewpoint_list.html?cid='+data[i].cid+'">'+data[i].cname+'</a></li>';
                lis += li;
            }
            lis += '<li><a href="favorite_rank.html">Favorite Rank</a></li>';
            $("#category").html(lis);
        });

    });
</script>

<header id="header">
    <div class="shortcut">
        <!-- log out status  -->
        <div class="login_out">
            <a href="login.html">Login</a>
            <a href="register.html">Register</a>
        </div>

        <!-- log in status  -->
        <div class="login">
            <span id="span_username"></span>
            <a href="myfavorite.html" class="collection">My Favorite</a>
            <a href="javascript:location.href='exitServlet';">Log out</a>
        </div>
    </div>
    <div class="header_wrap">
        <div class="search">
            <input name="" id="search_input"  type="text" placeholder="Please enter tourism" class="search_input" autocomplete="off">
            <a href="javascript:;" id="search-button" class="search-button">search</a>
        </div>
    </div>
    <div class="nav">
        <ul id="category" class="nav_ul"></ul>
    </div>
</header>